{% extends 'store/base.html' %} 
 
{% block title %}Собрать ПК{% endblock %} 
 
{% block content %} 
<h2>Соберите свой ПК</h2> 
 
{% if success %} 
    <p style="color: #00ff00; font-weight: bold;">Сборка успешно сохранена!</p> 
{% endif %} 
 
<form method="post" enctype="multipart/form-data">
  {% csrf_token %}

  <fieldset>
    <legend>Выберите процессор</legend>
    {% for cpu in form.fields.cpu.queryset %}
      <label>
        <input type="radio"
               name="cpu"
               value="{{ cpu.id }}"
               {% if form.data.cpu|stringformat:"s" == cpu.id|stringformat:"s" %}checked{% endif %}>
        <img src="{{ cpu.image.url }}" alt="{{ cpu.name }}" style="max-width:100px;">
        {{ cpu.name }}
      </label><br>
    {% endfor %}
  </fieldset>

  <fieldset>
    <legend>Выберите видеокарту</legend>
    {% for gpu in form.fields.gpu.queryset %}
      <label>
        <input type="radio"
               name="gpu"
               value="{{ gpu.id }}"
               {% if form.data.gpu|stringformat:"s" == gpu.id|stringformat:"s" %}checked{% endif %}>
        <img src="{{ gpu.image.url }}" alt="{{ gpu.name }}" style="max-width:100px;">
        {{ gpu.name }}
      </label><br>
    {% endfor %}
  </fieldset>

  <fieldset>
    <legend>Выберите оперативную память</legend>
    {% for ram in form.fields.ram.queryset %}
      <label>
        <input type="radio"
               name="ram"
               value="{{ ram.id }}"
               {% if form.data.ram|stringformat:"s" == ram.id|stringformat:"s" %}checked{% endif %}>
        <img src="{{ ram.image.url }}" alt="{{ ram.name }}" style="max-width:100px;">
        {{ ram.name }}
      </label><br>
    {% endfor %}
  </fieldset>

  <fieldset>
    <legend>Выберите накопитель</legend>
    {% for storage in form.fields.storage.queryset %}
      <label>
        <input type="radio"
               name="storage"
               value="{{ storage.id }}"
               {% if form.data.storage|stringformat:"s" == storage.id|stringformat:"s" %}checked{% endif %}>
        <img src="{{ storage.image.url }}" alt="{{ storage.name }}" style="max-width:100px;">
        {{ storage.name }}
      </label><br>
    {% endfor %}
  </fieldset>

  <div>
    {{ form.address.label_tag }}
    {{ form.address }}
  </div>

  <button type="submit">Собрать ПК</button>
</form> 
{% endblock %} 